<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="DC.type" content="topic"><meta name="DC.subject" content="XSLT,Refactoring actions"><meta name="keywords" content="XSLT, Refactoring actions"><meta name="DC.relation" scheme="URI" content="../topics/editing-xslt-stylesheets.html"><meta name="DC.relation" scheme="URI" content="../topics/XSLT-text-value-tempates.html"><meta name="DC.relation" scheme="URI" content="../topics/xslt-quick-assist.html"><meta name="prodname" content=""><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="xslt-refactoring-actions"><title>XSLT Refactoring Actions</title><link rel="stylesheet" type="text/css" href="../commonltr.css"></head><body id="xslt-refactoring-actions"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">XSLT Refactoring Actions</h1>
  
  <div class="body">
    <p class="p"><span class="ph">Oxygen XML Editor</span> offers a set of actions that allow you to change the structure of an
      XSLT stylesheet without changing the results of running it in an XSLT transformation.
      Depending on the selected text, the following XSLT refactoring actions are available from the
        <span class="ph uicontrol">Refactoring</span> submenu of the contextual menu<span class="ph"> (or from the <span class="ph menucascade"><span class="ph uicontrol">Document</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Refactoring</span></span> menu)</span>:</p>
    <div class="p">
      <dl class="dl">
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" id="xslt-refactoring-actions__image_ptf_4fn_wr" src="../img/CreateTemplate16.png">Extract
              template</span> (Active only when the selection contains well-formed
            elements)</dt>
          <dd class="dd"><span class="ph">Extracts the selected XSLT instructions sequence into a
        new template.</span> It opens a
            dialog box that allows you to specify the name of the new template to be created. The
            possible changes to perform on the document can be previewed before altering the
            document. After pressing OK, the template is created and the selection is replaced with
            the <code class="keyword markupname xmlelement">&lt;xsl:call-template&gt;</code> instruction referencing the newly created
              template.<div class="note note note_note"><span class="note__title">Note:</span> The newly created template is indented and its name is highlighted in
              the <code class="keyword markupname xmlelement">&lt;xsl:call-template&gt;</code> element.</div></dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLCreateFunction16.png">Extract
            function</span></dt>
          <dd class="dd">Extracts the selected XSLT instructions sequence into a new function. It opens a
            dialog box that allows you to specify the name of the new function. It then moves the
            selected lines to a newly created XSLT function and inserts a function call in the place
            of the selected lines. You can also use parts of an XPath expression to create the new
            functions.</dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLCreateLocalVariable16.png">Create local
              variable</span></dt>
          <dd class="dd">Creates an XSLT variable, wrapped around the selection. It opens a dialog box that
            allows you to specify the name of the new variable. It then wraps the selection in the
            variable and you can reference it at anytime in the code.</dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" id="xslt-refactoring-actions__image_dwx_gfn_wr" src="../img/CreateStylesheet16.png">Move to
              another stylesheet</span> (Active only when entire components are selected)</dt>
          <dd class="dd"><span class="ph">Allows you to move one or more XSLT global
        components (templates, functions, or parameters) to another stylesheet.</span> It
            opens a dialog box that allows you to specify where the selected components will be
            moved to. Follow these steps when using the dialog box:<ol class="ol" id="xslt-refactoring-actions__ul_u1t_d3b_c4">
              <li class="li">Choose whether you want to move the selected components to a new stylesheet or an
                existing one.</li>
              <li class="li">If you choose to move the components to an existing one, select the destination
                stylesheet. Click the <span class="ph uicontrol">Choose</span> button to select the destination
                stylesheet file. <span class="ph">Oxygen XML Editor</span> will automatically check if the destination
                stylesheet is already contained by the hierarchy of the current stylesheet. If it is
                not contained, choose whether or not the destination stylesheet will be referenced
                (imported or included) from the current stylesheet. The following options are
                  available:<ul class="ul" id="xslt-refactoring-actions__ul_byx_fhb_c4">
                  <li class="li"><span class="ph uicontrol">Include</span> - The current stylesheet will use an
                      <code class="keyword markupname xmlelement">&lt;xsl:include&gt;</code> instruction to reference the destination
                    stylesheet.</li>
                  <li class="li"><span class="ph uicontrol">Import</span> - The current stylesheet will use an
                      <code class="keyword markupname xmlelement">&lt;xsl:import&gt;</code> instruction to reference the destination
                    stylesheet.</li>
                  <li class="li"><span class="ph uicontrol">None</span> - There will be created no relation between the
                    current and destination stylesheets.</li>
                </ul></li>
              <li class="li">Click the <span class="ph uicontrol">Move</span> button to move the components to the
                destination. The moved components are highlighted in the destination
                stylesheet.</li>
            </ol></dd>
        
        
          <dt class="dt dlterm" id="xslt-refactoring-actions__xsl-attributes-to-attributes"><span class="ph uicontrol">Convert attributes to xsl:attributes</span></dt>
          <dd class="dd">
            <div class="p">Converts the attributes from the selected element and represents each of them with an
                <code class="keyword markupname xmlelement">&lt;xsl:attribute&gt;</code> instruction. For example, the following
              element:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;person</strong> <span class="hl-attribute">id</span>=<span class="hl-value">"Big{test}Boss"</span><strong class="hl-tag">/&gt;</strong></pre></div>
            <div class="p">is converted
              to:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;person&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:attribute</strong> <span class="hl-attribute">name</span>=<span class="hl-value">"id"</span><strong class="hl-xsl">&gt;</strong>
        <strong class="hl-xsl">&lt;xsl:text&gt;</strong>Big<strong class="hl-xsl">&lt;/xsl:text&gt;</strong>
        <strong class="hl-xsl">&lt;xsl:value-of</strong> <span class="hl-attribute">select</span>=<span class="hl-value">"test"</span><strong class="hl-xsl">/&gt;</strong>
        <strong class="hl-xsl">&lt;xsl:text&gt;</strong>Boss<strong class="hl-xsl">&lt;/xsl:text&gt;</strong>
    <strong class="hl-xsl">&lt;/xsl:attribute&gt;</strong>
<strong class="hl-tag">&lt;/person&gt;</strong></pre></div>
          </dd>
        
        
          <dt class="dt dlterm" id="xslt-refactoring-actions__convert-xsl-if-to-xsl-choose"><span class="ph uicontrol">Convert xsl:attributes to attributes</span></dt>
          <dd class="dd">
            <div class="p">Converts <code class="keyword markupname xmlelement">&lt;xsl:attribute&gt;</code> elements to inline attributes for
              elements outside the XSL namespace. For example, the following element: It is the
              reverse of the <span class="ph uicontrol">Convert attributes to xsl:attributes</span> action with
              the following limitations:<ul class="ul" id="xslt-refactoring-actions__ul_bsv_mhb_1jb">
                <li class="li">The <code class="keyword markupname xmlelement">&lt;xsl:attribute&gt;</code> element is "text only".</li>
                <li class="li">The <code class="keyword markupname xmlelement">&lt;xsl:attribute&gt;</code> element has a single
                    <code class="keyword markupname xmlelement">&lt;xsl:text&gt;</code> child element.</li>
                <li class="li">The <code class="keyword markupname xmlelement">&lt;xsl:attribute&gt;</code> element has a single
                    <code class="keyword markupname xmlelement">&lt;xsl:value-of&gt;</code> child element. In this case, the value of
                  the attribute will be the XPath expression from the <code class="keyword markupname xmlatt">@select</code>
                  attribute surrounded by curly brackets (<em class="ph i">text value template</em>).</li>
              </ul><pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;person&gt;</strong>
  <strong class="hl-xsl">&lt;xsl:attribute</strong> <span class="hl-attribute">name</span>=<span class="hl-value">"id"</span><strong class="hl-xsl">&gt;</strong>john.doe<strong class="hl-xsl">&lt;/xsl:attribute&gt;</strong>
  <strong class="hl-xsl">&lt;xsl:attribute</strong> <span class="hl-attribute">name</span>=<span class="hl-value">"email"</span><strong class="hl-xsl">&gt;</strong><strong class="hl-xsl">&lt;xsl:text&gt;</strong>john.doe@example.com<strong class="hl-xsl">&lt;/xsl:text&gt;</strong>
  <strong class="hl-xsl">&lt;/xsl:attribute&gt;</strong>
  <strong class="hl-xsl">&lt;xsl:attribute</strong> <span class="hl-attribute">name</span>=<span class="hl-value">"manager"</span><strong class="hl-xsl">&gt;</strong><strong class="hl-xsl">&lt;xsl:value-of</strong> <span class="hl-attribute">select</span>=<span class="hl-value">"person[@id='boss']/name"</span><strong class="hl-xsl">/&gt;</strong>
  <strong class="hl-xsl">&lt;/xsl:attribute&gt;</strong>
<strong class="hl-tag">&lt;/person&gt;</strong></pre></div>
            <div class="p">is converted
              to:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;person</strong> <span class="hl-attribute">id</span>=<span class="hl-value">"john.doe"</span> <span class="hl-attribute">email</span>=<span class="hl-value">"john.doe@example.com"</span> <span class="hl-attribute">manager</span>=<span class="hl-value">"{person[@id='boss']/name}"</span><strong class="hl-tag">/&gt;</strong></pre></div>
          </dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol">Convert xsl:if into xsl:choose/xsl:when</span></dt>
          <dd class="dd">
            <p class="p">Converts one or more <code class="keyword markupname xmlelement">&lt;xsl:if&gt;</code> element blocks into one or more
                <code class="keyword markupname xmlelement">&lt;xsl:when&gt;</code> blocks surrounded by an
                <code class="keyword markupname xmlelement">&lt;xsl:choose&gt;</code> element. If it is invoked on a selection, the
              selection must contain a well-formed fragment. If there is no selection, the
                <code class="keyword markupname xmlelement">&lt;xsl:if&gt;</code> element that surrounds the content at the current
              cursor position is converted.</p>
            <div class="p">For example, the following
              block:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-xsl">&lt;xsl:if</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"a"</span><strong class="hl-xsl">&gt;</strong>
  <em class="hl-comment">&lt;!-- XSLT code --&gt;</em>
<strong class="hl-xsl">&lt;/xsl:if&gt;</strong></pre></div>
            <div class="p">is converted
              to:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-xsl">&lt;xsl:choose&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:when</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"a"</span><strong class="hl-xsl">&gt;</strong>
        <em class="hl-comment">&lt;!-- XSLT code --&gt;</em>
    <strong class="hl-xsl">&lt;/xsl:when&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:otherwise&gt;</strong>
        |
    <strong class="hl-xsl">&lt;/xsl:otherwise&gt;</strong>
<strong class="hl-xsl">&lt;/xsl:choose&gt;</strong></pre></div>
            <p class="p">where the <code class="ph codeph">|</code> character is the current cursor position.</p>
          </dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol">Convert xsl:choose/xsl:when into xsl:if</span></dt>
          <dd class="dd">
            <div class="p">Converts each <code class="keyword markupname xmlelement">&lt;xsl:when&gt;</code> block into an
                <code class="keyword markupname xmlelement">&lt;xsl:if&gt;</code> block. For the
                <code class="keyword markupname xmlelement">&lt;xsl:otherwise&gt;</code> branch, it also adds an <em class="ph i">and</em> statement
              to each negated form of the conditions. For example, the following
              block:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-xsl">&lt;xsl:choose&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:when</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c1"</span><strong class="hl-xsl">&gt;</strong>
        <em class="hl-comment">&lt;!-- XSLT statement 1 --&gt;</em>
    <strong class="hl-xsl">&lt;/xsl:when&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:when</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c2"</span><strong class="hl-xsl">&gt;</strong>
        <em class="hl-comment">&lt;!-- XSLT statement 2 --&gt;</em>
    <strong class="hl-xsl">&lt;/xsl:when&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:when</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c3"</span><strong class="hl-xsl">&gt;</strong>
        <em class="hl-comment">&lt;!-- XSLT statement 3 --&gt;</em>
    <strong class="hl-xsl">&lt;/xsl:when&gt;</strong>
    <strong class="hl-xsl">&lt;xsl:otherwise&gt;</strong>
        <em class="hl-comment">&lt;!-- XSLT "otherwise" statement--&gt;</em>
    <strong class="hl-xsl">&lt;/xsl:otherwise&gt;</strong>
<strong class="hl-xsl">&lt;/xsl:choose&gt;</strong></pre></div>
            <div class="p">is converted
              to:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-xsl">&lt;xsl:if</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c1"</span><strong class="hl-xsl">&gt;</strong>
    <em class="hl-comment">&lt;!-- XSLT statement 1 --&gt;</em>
<strong class="hl-xsl">&lt;/xsl:if&gt;</strong>
<strong class="hl-xsl">&lt;xsl:if</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c2"</span><strong class="hl-xsl">&gt;</strong>
    <em class="hl-comment">&lt;!-- XSLT statement 2 --&gt;</em>
<strong class="hl-xsl">&lt;/xsl:if&gt;</strong>
<strong class="hl-xsl">&lt;xsl:if</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"c3"</span><strong class="hl-xsl">&gt;</strong>
    <em class="hl-comment">&lt;!-- XSLT statement 3 --&gt;</em>
<strong class="hl-xsl">&lt;/xsl:if&gt;</strong>
<strong class="hl-xsl">&lt;xsl:if</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"not(c1) and not(c2) and not(c3)"</span><strong class="hl-xsl">&gt;</strong>
    <em class="hl-comment">&lt;!-- XSLT "otherwise" statement--&gt;</em>
<strong class="hl-xsl">&lt;/xsl:if&gt;</strong></pre></div>
          </dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLLocalVariable16.png">Extract local
              variable</span> (Active on a selection made inside an attribute that contains an
            XPath expression)</dt>
          <dd class="dd"><span class="ph">Allows you to create a new local variable by extracting
        the selected XPath expression.</span> After creating
            the new local variable before the current element, <span class="ph">Oxygen XML Editor</span> allows you to
            edit the name of the variable.</dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLVariable16.png">Extract global variable</span>
            (Active on a selection made inside an attribute that contains an XPath expression)</dt>
          <dd class="dd"><span class="ph">Allows you to create a new global variable by extracting
        the selected XPath expression.</span> After
            creating the new global variable, <span class="ph">Oxygen XML Editor</span> allows you to edit the name of
            the variable.<div class="note note note_note"><span class="note__title">Note:</span> <span class="ph">Oxygen XML Editor</span> checks if the selected expression depends on
              local variables or parameters that are not available in the global context where the
              new variable is created.</div></dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLLocalParam16.png">Extract template
              parameter</span> (Active on a selection made inside an attribute that contains an
            XPath expression)</dt>
          <dd class="dd"><span class="ph">Allows you to create a new template parameter by
        extracting the selected XPath expression.</span> After
            creating the new parameter, <span class="ph">Oxygen XML Editor</span> allows you to edit the name of the
            parameter.</dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" src="../img/XSLParam16.png">Extract global parameter</span>
            (Active on a selection made inside an attribute that contains an XPath expression)</dt>
          <dd class="dd"><span class="ph">Allows you to create a new global parameter by
        extracting the selected XPath expression.</span> After
            creating the new parameter, <span class="ph">Oxygen XML Editor</span> allows you to edit the name of the
                parameter.<div class="note note note_note"><span class="note__title">Note:</span> <span class="ph">Oxygen XML Editor</span> checks if the selected expression depends on
              local variables or parameters that are not available in the global context where the
              new parameter is created.</div></dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol">Rename Component</span></dt>
          <dd class="dd">Allows you to rename the current component (in-place). The component and all its
            references in the document are highlighted with a thin border and the changes you make
            to the component at the cursor position are updated in real time to all occurrences of
            the component. To exit the in-place editing, press the
                <span class="ph uicontrol"><span class="keyword shortcut">Esc</span></span> or
                <span class="ph uicontrol"><span class="keyword shortcut">Enter</span></span> key on your keyboard.</dd>
        
        
          <dt class="dt dlterm"><span class="ph uicontrol"><img class="image" id="xslt-refactoring-actions__image_zx4_kv1_5r" src="../reusables/topics/../../img/RenameXSLResource16.png">Rename Component in</span></dt>
          <dd class="dd">
            <p class="p">Opens a dialog box that allows you to rename the selected component by specifying the
              new component name and the files to be affected by the modification. If you click the
                <span class="ph uicontrol">Preview</span> button, you can view the files to be affected by the
              action.</p>
            <div class="p">
              <figure class="fig fignone" id="xslt-refactoring-actions__fig_bjd_ghb_lr"><figcaption><span class="fig--title-label">Figure 1. </span>Rename Identity Constraint Dialog Box </figcaption>
                
                <img class="image" id="xslt-refactoring-actions__image_qjd_ghb_lr" src="../reusables/topics/../../img/sa_rename_component.png">
              </figure>
            </div>
            <p class="p">
              
            </p>
          </dd>
        
      </dl>
    </div>
    <div class="note note note_note"><span class="note__title">Note:</span> Many of these refactoring actions are also proposed by the <a class="xref" href="xslt-quick-assist.html#xslt-quick-assist"><dfn class="term">Quick Assist</dfn>
      support</a>.</div>
    <p class="p">For more information about XSLT refactoring, watch our video demonstration:</p>
    <p class="p"><div class="non-responsive"><iframe class="iframe embed-responsive-item" controls="controls" width="450" height="250" src="https://www.youtube.com/embed/4ir5XWyp8Zo" allowfullscreen="true"></iframe></div></p>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/editing-xslt-stylesheets.html">Editing XSLT Stylesheets</a></div><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../topics/XSLT-text-value-tempates.html">XSLT 3.0 Text Value Templates</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../topics/xslt-quick-assist.html">XSLT Quick Assist Support</a></div></div></nav></article></main></body></html>