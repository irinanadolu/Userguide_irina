<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="DC.type" content="topic"><meta name="DC.subject" content="Schematron Schemas,Embedded,XML documents,Validation,Against a schema with embedded Schematron,Validating XML Documents,Against a schema with embedded Schematron"><meta name="keywords" content="Schematron Schemas, Embedded, XML documents, Validation, Against a schema with embedded Schematron, Validating XML Documents, Against a schema with embedded Schematron"><meta name="DC.relation" scheme="URI" content="../topics/editing-schematron.html"><meta name="DC.relation" scheme="URI" content="../topics/schematron-syntax-highlight.html"><meta name="DC.relation" scheme="URI" content="../topics/schematron-outline-view.html"><meta name="DC.relation" scheme="URI" content="embed-sqf-in-rng-xsd.html#embed-sqf-in-rng-xsd"><meta name="prodname" content=""><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="combined_RNG_and_SCH"><title>Embedding Schematron Rules in XML Schema or RELAX NG</title><link rel="stylesheet" type="text/css" href="../commonltr.css"></head><body id="combined_RNG_and_SCH"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Embedding Schematron Rules in XML Schema or RELAX NG</h1>
  
  <div class="body">
    <p class="p">Schematron rules can be embedded into an XML Schema through annotations (using the
      <code class="keyword markupname xmlelement">&lt;appinfo&gt;</code> element), or in any element on any level of a RELAX NG Schema
      (taking into account that the RELAX NG validator ignores all elements that are not in the
      RELAX NG namespace).</p>
    <p class="p"><span class="ph">Oxygen XML Editor</span> supports Schematron validation schemas and it is able to extract and
      use the embedded rules.</p>
    <section class="section" id="combined_RNG_and_SCH__xml_schema"><h2 class="title sectiontitle">Validating XML Documents with XML Schema and Embedded Schematron</h2>
      
      <div class="p">To validate an XML document with XML Schema and its embedded Schematron, you can associate
        the document like
        this:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><span class="hl-directive">&lt;?xml-model href="percent.xsd" type="application/xml" 
            schematypens="http://purl.oclc.org/dsdl/schematron"?&gt;</span></pre></div>
    </section>
    <section class="section" id="combined_RNG_and_SCH__relax_ng"><h2 class="title sectiontitle">Validating XML Documents with Relax NG and Embedded Schematron</h2>
      
      <div class="p">To validate an XML document with RELAX NG schema and its embedded Schematron rules, you
        need to associate the document with both schemas like
        this:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><span class="hl-directive">&lt;?xml-model href="percent.rng" type="application/xml" 
            schematypens="http://relaxng.org/ns/structure/1.0"?&gt;</span>
<span class="hl-directive">&lt;?xml-model href="percent.rng" type="application/xml" 
            schematypens="http://purl.oclc.org/dsdl/schematron"?&gt;</span></pre></div>
      <p class="p">The second association validates your document with Schematron rules extracted from the
        RELAX NG Schema.</p>
    </section>
    <div class="p">
      <div class="note note note_note"><span class="note__title">Note:</span> When you work with XML Schema or Relax NG documents that have embedded Schematron rules
          <span class="ph">Oxygen XML Editor</span> provides two built-in validation scenarios: <span class="ph uicontrol">Validate XML
          Schema with embedded Schematron</span> for XML schema, and <span class="ph uicontrol">Validate Relax
          NG with embedded Schematron</span> for Relax NG. You can use one of these scenarios
        to validate the embedded Schematron rules.</div>
    </div>
    <section class="section" id="combined_RNG_and_SCH__example_embedded_schematron_in_xml_schema"><h2 class="title sectiontitle">Example: Embedded Schematron in XML Schema</h2>
      
      <div class="p">
        <pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;xsd:appinfo&gt;</strong>
  <strong class="hl-tag">&lt;sch:pattern&gt;</strong>
    <strong class="hl-tag">&lt;sch:rule</strong> <span class="hl-attribute">context</span>=<span class="hl-value">"..."</span><strong class="hl-tag">&gt;</strong>
	<strong class="hl-tag">&lt;sch:assert</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"..."</span><strong class="hl-tag">&gt;</strong>Message.<strong class="hl-tag">&lt;/sch:assert&gt;</strong>
    <strong class="hl-tag">&lt;/sch:rule&gt;</strong>
  <strong class="hl-tag">&lt;/sch:pattern&gt;</strong>
<strong class="hl-tag">&lt;/xsd:appinfo&gt;</strong></pre>
      </div>
    </section>
    <section class="section" id="combined_RNG_and_SCH__example_embedded_schematron_in_relax_ng_schema"><h2 class="title sectiontitle">Example: Embedded Schematron in Relax NG Schema</h2>
      
      <div class="p">
        <pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;grammar</strong> 
    <span class="hl-attribute">xmlns</span>=<span class="hl-value">"http://relaxng.org/ns/structure/1.0"</span>
    <span class="hl-attribute">xmlns:sch</span>=<span class="hl-value">"http://purl.oclc.org/dsdl/schematron"</span><strong class="hl-tag"> &gt;</strong>
    <strong class="hl-tag">&lt;sch:pattern&gt;</strong>
      <strong class="hl-tag">&lt;sch:rule</strong> <span class="hl-attribute">context</span>=<span class="hl-value">"..."</span><strong class="hl-tag">&gt;</strong>
        <strong class="hl-tag">&lt;sch:assert</strong> <span class="hl-attribute">test</span>=<span class="hl-value">"..."</span><strong class="hl-tag">&gt;</strong>Message.<strong class="hl-tag">&lt;/sch:assert&gt;</strong>
      <strong class="hl-tag">&lt;/sch:rule&gt;</strong>
    <strong class="hl-tag">&lt;/sch:pattern&gt;</strong>
    <strong class="hl-tag">&lt;start&gt;</strong>
     ..............
    <strong class="hl-tag">&lt;/start&gt;</strong>
<strong class="hl-tag">&lt;/grammar&gt;</strong></pre>
      </div>
    </section>
  </div>
  <nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/editing-schematron.html">Editing Schematron Schemas</a></div><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../topics/schematron-syntax-highlight.html">Syntax Highlighting in Schematron</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../topics/schematron-outline-view.html">Schematron Outline View</a></div></div><div class="linklist"><strong>Related Information:</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="embed-sqf-in-rng-xsd.html#embed-sqf-in-rng-xsd">Embedding Schematron Quick Fixes in Relax NG or XML Schema</a></li></ul></div></nav>
</article></main></body></html>