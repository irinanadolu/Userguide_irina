<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="DC.type" content="task"><meta name="DC.subject" content="Oxygen SDK,Custom Protocol,Plugins"><meta name="keywords" content="Oxygen SDK, Custom Protocol, Plugins"><meta name="DC.relation" scheme="URI" content="../topics/extend-oxygen-with-plugins.html"><meta name="DC.relation" scheme="URI" content="../topics/class-loading-issues.html"><meta name="DC.relation" scheme="URI" content="../topics/share-classloader-between-framework-and-plugin.html"><meta name="prodname" content=""><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="howto-custom-protocol-plugin"><title>How to Write A Custom Protocol Plugin</title><link rel="stylesheet" type="text/css" href="../commonltr.css"></head><body id="howto-custom-protocol-plugin"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">How to Write A Custom Protocol Plugin</h1>
  
  <div class="body taskbody">
    <section class="section context">
      <p class="p">To create a custom protocol <a class="xref" href="../glossary/plugin.html"><dfn class="term">plugin</dfn></a>,
        follow these steps:</p>
    </section>
    <section id="howto-custom-protocol-plugin__procedure-custom-protocol"><ol class="ol steps" id="howto-custom-protocol-plugin__procedure-custom-protocol"><li class="li step stepexpand">
        <span class="ph cmd">Write the handler class for your protocol that implements the
            <em class="ph i">java.net.URLStreamHandler</em> interface.</span>
        <div class="itemgroup info">Be careful to provide ways to encode and decode the URLs of your files.</div>
      </li><li class="li step stepexpand">
        <span class="ph cmd">Write the <dfn class="term">plugin</dfn> class by extending <a class="xref" href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/exml/plugin/Plugin.html" target="_blank" rel="external noopener"><em class="ph i">ro.sync.exml.plugin.Plugin</em></a>.</span>
      </li><li class="li step stepexpand">
        <span class="ph cmd">Write the <dfn class="term">plugin</dfn> extension class that implements the <a class="xref" href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/exml/plugin/urlstreamhandler/URLStreamHandlerPluginExtension.html" target="_blank" rel="external noopener"><em class="ph i">ro.sync.exml.plugin.urlstreamhandler.URLStreamHandlerPluginExtension</em></a>
          interface.</span>
        <div class="itemgroup info">
          <p class="p">It is necessary that the <dfn class="term">plugin</dfn> extension for the custom protocol
            implements the <em class="ph i">URLStreamHandlerPluginExtension</em> interface. Without it,
            you cannot use your <dfn class="term">plugin</dfn>, because <span class="ph">Oxygen XML Editor</span> is not able to
            find the protocol handler.</p>
          <p class="p">You can choose also to implement the <a class="xref" href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/exml/plugin/urlstreamhandler/URLChooserPluginExtension.html" target="_blank" rel="external noopener"><em class="ph i">URLChooserPluginExtension</em></a>
            interface. It allows you to write and display your own customized dialog box for
            selecting resources that are loaded with the custom protocol.</p>
          <p class="p">An implementation of the extension <a class="xref" href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/exml/plugin/urlstreamhandler/URLHandlerReadOnlyCheckerExtension.html" target="_blank" rel="external noopener"><em class="ph i">URLHandlerReadOnlyCheckerExtension</em></a> allows you to:</p>
          <ul class="ul">
            <li class="li">Mark a resource as read-only when it is opened.</li>
            <li class="li">Switch between marking the resource as read-only and read-write while it is
              edited.</li>
          </ul>
          <p class="p">It is useful when opening and editing CMS resources.</p>
        </div>
      </li><li class="li step stepexpand">
        <span class="ph cmd">Write the <span class="ph filepath">plugin.xml</span> descriptor file.</span>
        <div class="itemgroup info">Remember to set the name of the <dfn class="term">plugin</dfn> class to the one from the second
          step and the <dfn class="term">plugin</dfn> extension class name with the one you have chosen at step
          3.</div>
      </li><li class="li step stepexpand">
        <span class="ph cmd">Create a <a class="xref" href="../glossary/jar.html"><dfn class="term">JAR</dfn></a> archive with all these
          files.</span>
      </li><li class="li step stepexpand">
        <span class="ph cmd">Create a custom plugin folder inside the <strong class="ph b">plugins</strong> folder (for example,
              <span class="ph filepath"><dfn class="term">[OXYGEN_INSTALL_DIR]</dfn>/plugins/myPlugin</span>) that contains your new <dfn class="term">plugin</dfn>.</span>
      </li></ol></section>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/extend-oxygen-with-plugins.html">Extending Oxygen XML Editor with Plugins</a></div><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../topics/class-loading-issues.html">Class Loading Issues</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../topics/share-classloader-between-framework-and-plugin.html">How to Share a Class Loader Between a Framework and Plugin</a></div></div></nav></article></main></body></html>