<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="copyright" content="(C) Copyright 2022"><meta name="generator" content="DITA-OT"><meta name="DC.type" content="topic"><meta name="DC.subject" content="WebHelp Responsive,Google Analytics"><meta name="keywords" content="WebHelp Responsive, Google Analytics"><meta name="DC.relation" scheme="URI" content="../topics/webhelp-social-media-integration.html"><meta name="DC.relation" scheme="URI" content="../topics/whr-add-tweet-button.html"><meta name="DC.relation" scheme="URI" content="../topics/integrate-google-search-whresponsive.html"><meta name="prodname" content=""><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="whr-google-analytics"><title>How to Integrate Google Analytics in WebHelp Responsive Output</title><link rel="stylesheet" type="text/css" href="../commonltr.css"></head><body id="whr-google-analytics"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">How to Integrate Google Analytics in WebHelp Responsive Output</h1>
  
  
  <div class="body">
    <p class="p">You can use <dfn class="term">Google Analytics</dfn> to track and report site data for your <strong class="ph b">WebHelp
        Responsive</strong> output.</p>
    <section class="section" id="whr-google-analytics__using_a_script_outside_of_oxygen_xml_editorauthor"><h2 class="title sectiontitle">Using a Publishing Template</h2>
      
      <div class="p">To integrate <dfn class="term">Google Analytics</dfn> into your WebHelp Responsive output using an
          <a class="xref" href="whr-publishing-template-2.html"><dfn class="term">Oxygen Publishing Template</dfn></a>,
        follow this procedure:<ol class="ol">
          <li class="li">Create a new <a class="xref" href="https://analytics.google.com" target="_blank" rel="external noopener">Google Analytics account</a> (if you do not already have one) and log on.</li>
          <li class="li">Choose the Analytics solution that best fits the needs of your website.</li>
          <li class="li">Follow the on-screen instructions to obtain a <strong class="ph b">Tracking Code</strong> that contains your
              <em class="ph i">Tracking ID</em>. A <strong class="ph b">Tracking Code</strong> looks like
            this:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-javascript">&lt;script&gt;
 (<strong class="hl-keyword">function</strong>(i,s,o,g,r,a,m){i[<span class="hl-string">'GoogleAnalyticsObject'</span>]=r;i[r]=i[r]||<strong class="hl-keyword">function</strong>(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=<span class="hl-number">1</span>*<strong class="hl-keyword">new</strong> <strong class="hl-keyword">Date</strong>();a=s.createElement(o),
 m=s.getElementsByTagName(o)[<span class="hl-number">0</span>];a.async=<span class="hl-number">1</span>;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,<span class="hl-string">'script'</span>,<span class="hl-string">'//www.google-analytics.com/analytics.js'</span>,<span class="hl-string">'ga'</span>);

 ga(<span class="hl-string">'create'</span>, <span class="hl-string">'UA-XXXXXXXX-X'</span>, <span class="hl-string">'auto'</span>);
 ga(<span class="hl-string">'send'</span>, <span class="hl-string">'pageview'</span>);
&lt;/script&gt;</pre></li>
          <li class="li">Save the Tracking Code (obtained in the previous step) in a new XML file called
              <span class="ph filepath">googleAnalytics.xml</span>. Note that the file should only contain the
            tracking code.</li>
          <li class="li">Open the <a class="xref" href="whr_publishing_template_contents.html#template_descritpor_file">template descriptor file</a> associated with your publishing template.</li>
          <li class="li">Use the <a class="xref" href="webhelp-responsive-plugin-additional-parameters.html#webhelp-responsive-plugin-additional-parameters__webhelp_fragment_after_body"><span class="ph">webhelp.fragment.after.body</span> parameter</a> in the <em class="ph i">html-fragments</em> section of the descriptor file. Set
            the value of that parameter to reference the <span class="ph filepath">googleAnalytics.xml</span>
            file that you created earlier. The content of this file will be copied at the end of all
            generated output pages, right before the ending <code class="keyword markupname xmlelement">&lt;body&gt;</code> element.
            This ensures that the page is loaded before the Google Analytics servers are contacted,
            thus reducing page loading
            time.<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-xml"><strong class="hl-tag">&lt;publishing-template&gt;</strong>
    ...
    <strong class="hl-tag">&lt;webhelp&gt;</strong>
        ...                
      <strong class="hl-tag">&lt;html-fragments&gt;</strong>
        <strong class="hl-tag">&lt;fragment</strong> 
          <span class="hl-attribute">file</span>=<span class="hl-value">"HTML-fragments/googleAnalytics.xml"</span> 
          <span class="hl-attribute">placeholder</span>=<span class="hl-value">"webhelp.fragment.after.body"</span><strong class="hl-tag">/&gt;</strong>
      <strong class="hl-tag">&lt;/html-fragments&gt;</strong>
    <strong class="hl-tag">&lt;/webhelp&gt;</strong></pre></li>
          <li class="li">Open the <dfn class="term">DITA Map WebHelp Responsive</dfn> transformation scenario.</li>
          <li class="li">Click the <span class="ph uicontrol">Choose Custom Publishing Template</span> link and select
            your template.</li>
          <li class="li">Click <span class="ph uicontrol">OK</span> to save the changes to the transformation
            scenario.</li>
          <li class="li">Run the transformation scenario.</li>
        </ol></div>
    </section>
    <section class="section" id="whr-google-analytics__using_oxygen_xml_editorauthor"><h2 class="title sectiontitle">Using a Transformation Scenario in Oxygen XML Editor/Author</h2>
      
      <div class="p">To integrate <dfn class="term">Google Analytics</dfn> into your WebHelp Responsive output using a
        transformation scenario from within <strong class="ph b">Oxygen XML Editor/Author</strong>, follow this procedure:<ol class="ol">
          <li class="li">Create a new <a class="xref" href="https://analytics.google.com" target="_blank" rel="external noopener">Google Analytics account</a> (if you do not already have one) and log on.</li>
          <li class="li">Choose the Analytics solution that best fits the needs of your website.</li>
          <li class="li">Follow the on-screen instructions to obtain a <strong class="ph b">Tracking Code</strong> that contains your
              <em class="ph i">Tracking ID</em>. A <strong class="ph b">Tracking Code</strong> looks like
            this:<pre xmlns:version="java:net.sf.saxon.Version" class="pre codeblock language-javascript">&lt;script&gt;
 (<strong class="hl-keyword">function</strong>(i,s,o,g,r,a,m){i[<span class="hl-string">'GoogleAnalyticsObject'</span>]=r;i[r]=i[r]||<strong class="hl-keyword">function</strong>(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=<span class="hl-number">1</span>*<strong class="hl-keyword">new</strong> <strong class="hl-keyword">Date</strong>();a=s.createElement(o),
 m=s.getElementsByTagName(o)[<span class="hl-number">0</span>];a.async=<span class="hl-number">1</span>;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,<span class="hl-string">'script'</span>,<span class="hl-string">'//www.google-analytics.com/analytics.js'</span>,<span class="hl-string">'ga'</span>);

 ga(<span class="hl-string">'create'</span>, <span class="hl-string">'UA-XXXXXXXX-X'</span>, <span class="hl-string">'auto'</span>);
 ga(<span class="hl-string">'send'</span>, <span class="hl-string">'pageview'</span>);
&lt;/script&gt;</pre></li>
          <li class="li">Save the Tracking Code (obtained in the previous step) in a new XML file called
              <span class="ph filepath">googleAnalytics.xml</span>. Note that the file should only contain the
            tracking code.</li>
          <li class="li">Edit the <dfn class="term">DITA Map WebHelp Responsive</dfn> transformation scenario and choose a
              <em class="ph i">template</em>.</li>
          <li class="li">Switch to the <span class="ph uicontrol">Parameters</span> tab. Edit the <a class="xref" href="webhelp-responsive-plugin-additional-parameters.html#webhelp-responsive-plugin-additional-parameters__webhelp_fragment_after_body"><span class="ph">webhelp.fragment.after.body</span> parameter</a> and set it to reference the
              <span class="ph filepath">googleAnalytics.xml</span> file that you created earlier. The content of
            this file will be copied at the end of all generated output pages, right before the
            ending <code class="keyword markupname xmlelement">&lt;body&gt;</code> element. This ensures that the page is loaded
            before the Google Analytics servers are contacted, thus reducing page loading time.</li>
          <li class="li">Click <span class="ph uicontrol">Ok</span> and run the transformation scenario.</li>
        </ol></div>
    </section>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/webhelp-social-media-integration.html">Integrating Social Media and Google Tools in the WebHelp Output</a></div><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../topics/whr-add-tweet-button.html">How to Add Tweet Button in WebHelp Responsive Output</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../topics/integrate-google-search-whresponsive.html">How to Integrate Google Search in WebHelp Responsive Output</a></div></div></nav></article></main></body></html>