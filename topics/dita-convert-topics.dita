<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="urn:oasis:names:tc:dita:rng:topic.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<topic id="dita-convert-topics">
  <title>Converting DITA Topics to Another Type</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>DITA<indexterm>Topics<indexterm>Convert topic
          types</indexterm></indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p><ph keyref="product"/> includes a feature that allows you to convert an existing DITA
      document to a different topic type. For example, if you want to convert a DITA Task to a DITA
      Topic, or vice versa. There are several ways to access these refactoring actions and you can
      choose a scope for the operation and some filtering options.</p>
    <section id="refactoring_operations_for_dita">
      <title>DITA Conversion Refactoring Operations for <i>DITA</i></title>
      <p>The following conversion operations are available:<dl>
          <dlentry conkeyref="reusables-author-for-dita/nested-topics">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-author-for-dita/sections-topics">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to Concept</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA Concept topic
              type (for example, Topic to Concept).</dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to General Task</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA General Task
              topic type (for example, Task to General Task). A DITA <term>General Task</term> is a
              less restrictive alternative to the <term>Strict Task</term> information type.</dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to Reference</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA Reference topic
              type (for example, Topic to Reference).</dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to Task</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA Task topic type
              (for example, Topic to Task).</dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to Topic</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA Topic (for
              example, Task to Topic).</dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Convert to Troubleshooting</uicontrol></dt>
            <dd>Use this operation to convert a DITA topic (of any type) to a DITA Troubleshooting
              topic type (for example, Topic to Troubleshooting).</dd>
          </dlentry>
        </dl></p>
    </section>
    <section id="methods_for_accessing_the_dita_conversion_refacto">
      <title>Methods for Accessing the DITA Conversion Refactoring Operations</title>
      <p>To access the conversion operations, use one of the following methods:</p>
      <p>
        <dl>
          <dlentry id="single-document">
            <dt>Single Document Method</dt>
            <dd>With the document opened in the editor, right-click anywhere in the main editing
              pane (or right-click the topic reference in the <xref
                href="dita-maps-manager.dita#dita-maps-manager"><uicontrol>DITA Maps
                  Manager</uicontrol></xref>), go to the <uicontrol>Refactoring</uicontrol> submenu,
              and choose whichever operation is appropriate for your needs.</dd>
          </dlentry>
          <dlentry id="multiple-documents">
            <dt>Multiple Documents At Once Method</dt>
            <dd>Select <uicontrol><image href="../img/XMLRefactoring16.png" id="image_mv4_ptt_kr"
                />XML Refactoring</uicontrol> from the <uicontrol product="author developer editor"
                >Tools</uicontrol><uicontrol product="developerEclipse editorEclipse">XML
                Tools</uicontrol><uicontrol product="authorEclipse">XML</uicontrol> menu (or from
              the <uicontrol>Refactoring</uicontrol> submenu when you right-click one or more
              documents in the <xref href="using-the-project-view.dita#using-the-project-view"
                  ><uicontrol product="author developer editor">Project</uicontrol><uicontrol
                  product="authorEclipse developerEclipse editorEclipse">Project Explorer</uicontrol>
                view</xref>or the <xref href="dita-maps-manager.dita#dita-maps-manager"
                  ><uicontrol>DITA Maps Manager</uicontrol> view</xref>). Then select whichever
              operation is appropriate for your needs.</dd>
          </dlentry>
        </dl>
      </p>
    </section>
    <section id="refactoring_wizard_dialog_box">
      <title>XML Refactoring Wizard Dialog Box</title>
      <p>When you select any of the operations, <ph keyref="product"/> proceeds to the
          <uicontrol>XML Refactoring Wizard</uicontrol>. If you used the <xref
          href="#dita-convert-topics/multiple-documents" format="dita"><b>Multiple Documents At Once
            Method</b></xref>, the wizard page allows you to choose a scope for the operation and
        some filtering options:<ul>
          <li><uicontrol>Scope</uicontrol> - Select from a variety of options to define the scope
            that will have resources affected by the operation. For example, you can choose to
            affect all resources in the <uicontrol>Project</uicontrol>, <uicontrol>All opened
              files</uicontrol>, <uicontrol>Current DITA map hierarchy</uicontrol>,
              <uicontrol>Selected reference</uicontrol>, and others depending on the context.</li>
          <li><uicontrol>Filters</uicontrol> section<ul>
              <li><uicontrol>Include files</uicontrol> - Specifies files to be excluded from the
                operation. You can specify multiple files by separating them with commas and the
                patterns can include wildcards (such as <b>*</b> or <b>?</b>).</li>
              <li><uicontrol>Restrict to known XML file types only</uicontrol> - Excludes non-XML
                file types from the operation.</li>
              <li product="author developer editor"><uicontrol>Look inside archives</uicontrol> - If
                this option is selected, the scope of the operation will include files inside
                archives.</li>
            </ul></li>
        </ul></p>
      <p>If you used the <xref href="#dita-convert-topics/single-document" format="dita"><b>Single
            Document Method</b></xref>, the scope will be the current file so the scope and
        filtering options are not displayed. </p>
      <p>You can then use one of the following buttons to proceed with the operation: <dl>
          <dlentry>
            <dt>Preview</dt>
            <dd>You can use the <uicontrol>Preview</uicontrol> button to open a comparison panel
              where you can review all the changes that will be made by the refactoring operation
              before applying the changes.<note type="warning">It is always recommended to use the
                  <uicontrol>Preview</uicontrol> button to make sure the operation is not going to
                do something unexpected and after you click the <uicontrol>Finish</uicontrol>
                button, any <uicontrol>Undo</uicontrol> action will only revert changes on the
                current document.</note></dd>
          </dlentry>
          <dlentry>
            <dt>Finish</dt>
            <dd>When you use the <uicontrol>Finish</uicontrol> button, behind the scenes <ph
                keyref="product"/> maps the structure of the previous DITA document type to a
              structure that fits the new type. In some cases, especially when the previous
              structure was very complex, the conversion might result in an invalid structure and
              some manual adjustments might be required.</dd>
          </dlentry>
        </dl></p>
    </section>
    <section id="handling_special_characters">
      <title>Handling Special Characters When Generating New File Names</title>
      <p>For refactoring operations that generate a new file, if special characters are detected in
        an element that will be used to generate the new file name, the special characters will
        automatically be replaced with their ASCII equivalents (for example, <b>Ã„</b> is changed to
          <b>AE</b>). If an ASCII equivalent does not exist, it will be replaced with an underline
        character ( _ ). The purpose of this functionality is to avoid generating invalid file
        names.</p>
      <p>It is possible to customize the list of replaceable symbols by editing the following XSLT
        character map file:</p>
      <p><filepath><term conkeyref="reusables-user-guide/oxy-install-dir"
          />/frameworks/dita/refactoring/utils/character-map.xsl</filepath>.</p>
    </section>
    <section id="converting_to_and_from_dita_specialization_docume">
      <title>Converting To and From DITA Specialization Document Types</title>
      <p>If you use your own <xref
          href="dita-specialization-support.dita#dita-specialization-support">DITA specialization
          document type</xref>, you can modify mappings for the predefined conversion operations to
        work with your specialization.</p>
      <p>To use the conversion operations with your DITA specialization, follow these steps:<ol>
          <li>Locate the conversion stylesheets in the following directory (and its subdirectories):
                <filepath><term conkeyref="reusables-user-guide/oxy-install-dir"
              />/frameworks/dita/refactoring/</filepath>.<note>The stylesheets for converting entire
              files (from one type to another) are located in the
                <filepath>dita-files-conversion-stylesheets</filepath> folder. Each of these
              conversion operations has a stylesheet with the word <b>entrypoint</b> at the end of
              its name. Edit the appropriate <filepath>*-entrypoint.xsl</filepath> file (for
              example, to modify the <b>Convert to Task</b> operation, edit the
                <filepath>convert-resource-to-task-entrypoint.xsl</filepath> file).</note></li>
          <li>Depending on whether you use a DTD, XML Schema, or Relax NG-based specialization, you can:<ol>
              <li>Modify the values of the declared <b>root-element</b>,
                  <b>public-literal-target</b>, and <b>system-literal-target</b> variables to match
                your specialization's DTD information.</li>
              <li>Modify the value of the declared <b>schema-location</b> variable to match the
                location of your specialization's XML schema.</li>
              <li>Modify the value of the declared <b>xml-model-location</b> variable to match your
                Relax NG specialization.</li>
            </ol></li>
          <li>For the <uicontrol>Convert Nested Topics to New Topics</uicontrol> and
              <uicontrol>Convert Sections to New Topics</uicontrol> operations, if your DITA
            specialization uses your own custom URN or DOCTYPE, you can replace the default mappings
            in the <filepath><term conkeyref="reusables-user-guide/oxy-install-dir"
              />/frameworks/dita/refactoring/utils/dita-formats.xsl</filepath> stylesheet with your
            own values for the <codeph>DOCTYPE</codeph> or <codeph>xml-model</codeph>.</li>
          <li>If you want to change the name of the operation that will be displayed in <ph
              keyref="product"/>, follow these substeps:<ol>
              <li>Locate the resource XML file for the same conversion operation in the following
                directory: <filepath><term conkeyref="reusables-user-guide/oxy-install-dir"
                  />/frameworks/dita/refactoring/</filepath> (for example, for the <b>Convert to
                  Task</b> operation, it is <filepath>convertResource2Task.xml</filepath>).</li>
              <li>Edit that XML file and change the <b>name</b> attribute to match whatever you want
                to be displayed for that operation (for example, <codeph>name="Convert to My
                  DocType"</codeph>).</li>
            </ol></li>
          <li>Save your changes to all modified files.</li>
          <li>Restart <ph keyref="product"/></li>
        </ol></p>
      <p><b>Result:</b> You should now see your changes when <xref
          href="#dita-convert-topics/methods_for_accessing_the_dita_conversion_refacto"
          format="dita">accessing the conversion operations</xref>.</p>
    </section>
    <p product="developer editor developerEclipse editorEclipse">
      <note type="tip">You can also create your own customized refactoring operations. For more
        information, see <xref
          href="custom-refactoring-operations.dita#custom-refactoring-operations"/>.</note>
    </p>
  </body>
  <related-links>
    <linklist>
      <title>Related Information:</title>
      <link href="eppo-edit-topics.dita#eppo-edit-topics"/>
      <link href="refactoring-xml-documents.dita#refactoring-xml-documents"/>
    </linklist>
  </related-links>
</topic>
